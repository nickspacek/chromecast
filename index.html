<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Chromecast Test</title>
		<link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0-rc1/css/bootstrap.min.css" rel="stylesheet">
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
		<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0-rc1/js/bootstrap.min.js"></script>
		<script src="https://www.gstatic.com/cast/js/receiver/1.0/cast_receiver.js"></script>

		<script type="text/javascript">
$(function () {
var appId = 'ae241d56-0944-42ed-b6eb-06c314f5b5a0';
var receiver = new cast.receiver.Receiver(appId, [ 'ca.spacek.chromecast.test.aardvark' ], '', 5);
var channelHandler = new cast.receiver.ChannelHandler('ca.spacek.chromecast.test.aardvark');
channelHandler.addEventListener(cast.receiver.Channel.EventType.MESSAGE, onMessage);
channelHandler.addEventListener(cast.receiver.Channel.EventType.OPEN, onOpen);
channelHandler.addEventListener(cast.receiver.Channel.EventType.CLOSE, onClose);

channelHandler.addChannelFactory(receiver.createChannelFactory('ca.spacek.chromecast.test.aardvark'));
receiver.start();

function onOpen(event) {
	console.debug('channel opened', event);
}
function onClose(event) {
	console.debug('channel closed', event);
}
function onMessage(event) {
	console.debug('message received', event);
	if (event.message.type === 'text') {
		$('<li />').text(event.message.content)
			.appendTo($('#messages'));
	}
}
});
	</script>
	</head>
	<body>
		<div class="container">
			<h1>Test!</h1>
			<ol id="messages">
			</ol>
			<iframe src="http://www.google.ca"></iframe>
			<iframe src="http://www.reddit.com"></iframe>
		</div>
	</body>
</html>
